#!/bin/sh

# Block committing server code or config into public/
if git diff --cached --name-only | grep -E '^public/(server\.js|openai\.js|config\.js)$' > /dev/null; then
  echo "Error: Committing server or config files under public/ is blocked." >&2
  exit 1
fi

# Lint staged JS files
npm run lint --silent